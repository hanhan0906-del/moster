<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monster Survivors - Fight Endless Waves of Monsters</title>
    <meta name="description" content="Survive endless waves of monsters in this action-packed roguelike game. Upgrade your character, collect powerful items, and face increasingly difficult challenges.">
    <link rel="canonical" href="https://www.mostersurvivorsaaa.uk">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BPLWHZKFNF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-BPLWHZKFNF');
      
      // 自定义事件追踪函数
      function trackGameEvent(eventName, parameters = {}) {
        gtag('event', eventName, parameters);
      }
      
      // 页面加载完成事件
      window.addEventListener('load', function() {
        gtag('event', 'page_view', {
          'page_title': 'Monster Survivors Game',
          'page_location': window.location.href
        });
      });
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        apple: {
                            blue: '#007AFF',
                            red: '#FF3B30',
                            green: '#34C759',
                            purple: '#AF52DE',
                            yellow: '#FFCC00',
                            orange: '#FF9500',
                            dark: '#1C1C1E',
                            gray: '#8E8E93',
                            lightgray: '#F2F2F7'
                        }
                    }
                }
            }
        }
    </script>
    <style type="text/css">
        @media (max-width: 640px) {
            .game-container {
                height: 70vh;
            }
        }
    </style>
</head>
<body class="bg-apple-lightgray text-apple-dark">
    <header class="bg-apple-blue text-white p-4 md:p-6 shadow-md">
        <div class="container mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <h1 class="text-3xl md:text-4xl font-bold">Monster Survivors</h1>
                    <p class="text-lg mt-2">Survive and fight against endless waves of monsters!</p>
                </div>
                <nav>
                    <ul class="flex space-x-4">
                        <li><a href="#game" class="hover:text-apple-yellow transition-colors" onclick="trackGameEvent('nav_click', {'section': 'game'})">Play Now</a></li>
                        <li><a href="#about" class="hover:text-apple-yellow transition-colors" onclick="trackGameEvent('nav_click', {'section': 'about'})">About</a></li>
                        <li><a href="#features" class="hover:text-apple-yellow transition-colors" onclick="trackGameEvent('nav_click', {'section': 'features'})">Features</a></li>
                        <li><a href="#controls" class="hover:text-apple-yellow transition-colors" onclick="trackGameEvent('nav_click', {'section': 'controls'})">Controls</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-6">
        <section id="game" class="my-8">
            <h2 class="text-2xl md:text-3xl font-bold mb-4 text-apple-blue">Play Monster Survivors</h2>
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                <div class="game-container w-full h-screen max-h-[600px]">
                    <iframe src="https://cloud.onlinegames.io/games/2025/unity/monster-survivors/index-og.html" 
                            class="w-full h-full border-0" 
                            allowfullscreen
                            onload="trackGameStart()"
                            id="gameFrame"></iframe>
                </div>
            </div>
        </section>

        <section id="about" class="my-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-4 text-apple-blue">About Monster Survivors</h2>
            <div class="bg-white rounded-lg shadow-lg p-6">
                <p class="mb-4">Monster Survivors is an action-packed roguelike survival game where you must fight against endless waves of monsters. Each run is unique, with random enemy spawns, power-ups, and challenges to overcome.</p>
                <p>Inspired by games like Vampire Survivors, this game combines fast-paced action with strategic character building. How long can you survive as the difficulty continuously increases?</p>
            </div>
        </section>

        <section id="features" class="my-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 text-apple-blue">Game Features</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-apple-orange mb-3">Multiple Characters</h3>
                    <p>Choose from various characters, each with unique starting weapons and abilities.</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-apple-green mb-3">Weapon Evolution</h3>
                    <p>Combine weapons and passive items to create powerful evolved weapons with special effects.</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-apple-purple mb-3">Level Up System</h3>
                    <p>Gain experience by defeating enemies and level up to choose new weapons or upgrades.</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-apple-red mb-3">Boss Battles</h3>
                    <p>Face off against massive boss monsters that appear at specific time intervals.</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-apple-yellow mb-3">Treasure Chests</h3>
                    <p>Find and open treasure chests to receive random items, gold, or special power-ups.</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-apple-blue mb-3">Daily Challenges</h3>
                    <p>Complete daily challenges to earn rewards and climb the global leaderboard.</p>
                </div>
            </div>
        </section>

        <section id="controls" class="my-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-4 text-apple-blue">Game Controls</h2>
            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <h3 class="text-xl font-semibold text-apple-purple mb-3">Keyboard Controls</h3>
                        <ul class="list-disc pl-5 space-y-2">
                            <li><span class="font-semibold">WASD or Arrow Keys:</span> Move your character</li>
                            <li><span class="font-semibold">Space:</span> Pause the game</li>
                            <li><span class="font-semibold">E or Enter:</span> Select/Confirm</li>
                            <li><span class="font-semibold">Esc:</span> Back/Menu</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-apple-orange mb-3">Mobile Controls</h3>
                        <ul class="list-disc pl-5 space-y-2">
                            <li><span class="font-semibold">Virtual Joystick:</span> Appears on the left side of the screen for movement</li>
                            <li><span class="font-semibold">Tap Buttons:</span> Menu and action buttons on the right side</li>
                            <li><span class="font-semibold">Swipe:</span> Navigate menus and selection screens</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="my-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-4 text-apple-blue">Contact & Support</h2>
            <div class="bg-white rounded-lg shadow-lg p-6">
                <p class="mb-4">Need help or have feedback about Monster Survivors? We'd love to hear from you!</p>
                <div class="space-y-2">
                    <p><span class="font-semibold">Website:</span> <a href="https://www.mostersurvivorsaaa.uk" class="text-apple-blue hover:underline">www.mostersurvivorsaaa.uk</a></p>
                    <p><span class="font-semibold">For technical support or game feedback, please visit our website.</span></p>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-apple-dark text-white p-6">
        <div class="container mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p>&copy; 2025 Monster Survivors. All rights reserved.</p>
                    <p class="text-sm text-apple-gray mt-1">www.mostersurvivorsaaa.uk</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#contact" class="hover:text-apple-blue transition-colors" onclick="trackGameEvent('footer_click', {'link': 'contact'})">Contact</a>
                    <a href="https://www.mostersurvivorsaaa.uk" class="hover:text-apple-blue transition-colors" onclick="trackGameEvent('footer_click', {'link': 'home'})">Home</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JSON-LD structured data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "VideoGame",
        "name": "Monster Survivors",
        "description": "Survive endless waves of monsters in this action-packed roguelike game. Upgrade your character, collect powerful items, and face increasingly difficult challenges.",
        "genre": ["Action", "Roguelike", "Survival"],
        "playMode": "SinglePlayer",
        "applicationCategory": "Game",
        "url": "https://www.mostersurvivorsaaa.uk",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Monster Survivors",
            "url": "https://www.mostersurvivorsaaa.uk"
        }
    }
    </script>

    <!-- 额外的GA追踪功能 -->
    <script>
        // 游戏开始追踪
        function trackGameStart() {
            trackGameEvent('game_load', {
                'game_name': 'Monster Survivors',
                'device_type': window.innerWidth > 768 ? 'desktop' : 'mobile',
                'user_agent': navigator.userAgent.includes('Mobile') ? 'mobile' : 'desktop'
            });
            
            // 追踪用户在游戏页面的停留时间
            startGameTimer();
        }
        
        // 游戏时长追踪
        let gameStartTime = null;
        function startGameTimer() {
            gameStartTime = Date.now();
        }
        
        // 页面离开时追踪游戏时长
        window.addEventListener('beforeunload', function() {
            if (gameStartTime) {
                const gameTime = Math.round((Date.now() - gameStartTime) / 1000 / 60); // 转换为分钟
                if (gameTime > 0) {
                    trackGameEvent('game_session_duration', {
                        'game_name': 'Monster Survivors',
                        'duration_minutes': gameTime,
                        'session_quality': gameTime > 5 ? 'engaged' : 'quick'
                    });
                }
            }
        });
        
        // 滚动追踪 - 了解用户是否查看了完整页面
        let maxScroll = 0;
        let scrollTracked = {25: false, 50: false, 75: false, 90: false};
        
        window.addEventListener('scroll', function() {
            const scrollPercent = Math.round((window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100);
            if (scrollPercent > maxScroll) {
                maxScroll = scrollPercent;
                
                // 只追踪一次每个里程碑
                if (scrollPercent >= 25 && !scrollTracked[25]) {
                    trackGameEvent('scroll_depth', {'percent': 25});
                    scrollTracked[25] = true;
                } else if (scrollPercent >= 50 && !scrollTracked[50]) {
                    trackGameEvent('scroll_depth', {'percent': 50});
                    scrollTracked[50] = true;
                } else if (scrollPercent >= 75 && !scrollTracked[75]) {
                    trackGameEvent('scroll_depth', {'percent': 75});
                    scrollTracked[75] = true;
                } else if (scrollPercent >= 90 && !scrollTracked[90]) {
                    trackGameEvent('scroll_depth', {'percent': 90});
                    scrollTracked[90] = true;
                }
            }
        });
        
        // 错误追踪
        window.addEventListener('error', function(e) {
            trackGameEvent('javascript_error', {
                'error_message': e.message,
                'error_filename': e.filename,
                'error_line': e.lineno,
                'user_agent': navigator.userAgent
            });
        });
        
        // 页面性能追踪
        window.addEventListener('load', function() {
            setTimeout(function() {
                if ('performance' in window) {
                    const perfTiming = performance.timing;
                    const pageLoadTime = perfTiming.loadEventEnd - perfTiming.navigationStart;
                    
                    if (pageLoadTime > 0) {
                        trackGameEvent('page_performance', {
                            'load_time_ms': pageLoadTime,
                            'load_time_category': pageLoadTime < 3000 ? 'fast' : pageLoadTime < 7000 ? 'average' : 'slow'
                        });
                    }
                }
            }, 1000);
        });
        
        // 检测用户设备信息
        function getDeviceInfo() {
            const ua = navigator.userAgent;
            let deviceType = 'desktop';
            let os = 'unknown';
            
            if (/Mobile|Android|iPhone|iPad/.test(ua)) {
                deviceType = 'mobile';
            } else if (/Tablet|iPad/.test(ua)) {
                deviceType = 'tablet';
            }
            
            if (/Windows/.test(ua)) os = 'windows';
            else if (/Mac/.test(ua)) os = 'mac';
            else if (/Android/.test(ua)) os = 'android';
            else if (/iPhone|iPad/.test(ua)) os = 'ios';
            else if (/Linux/.test(ua)) os = 'linux';
            
            return { deviceType, os };
        }
        
        // 页面加载完成后发送设备信息
        window.addEventListener('load', function() {
            const deviceInfo = getDeviceInfo();
            trackGameEvent('device_info', {
                'device_type': deviceInfo.deviceType,
                'operating_system': deviceInfo.os,
                'screen_resolution': screen.width + 'x' + screen.height,
                'viewport_size': window.innerWidth + 'x' + window.innerHeight
            });
        });
    </script>
</body>
</html>
